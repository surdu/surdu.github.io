<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png?v">
	<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
	<link rel="shortcut icon" href="/assets/favicon/favicon.ico">

	<title>Make LineString Resolution Depend on Zoom Level in OpenLayers | Nicu Surdu</title>

	

	<meta name="description" content="So, you want to render a route on your OpenLayers map. Everything will be nice and sweet until youâ€™ll have to render a huge route, in which case no matter what computer your clients have, most probably it will stall. To solve this you have two possibilities: you either reduce the number of lines you send from the server or you reduce the number of points rendered directly on the clientâ€™s browser." />

	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Make LineString Resolution Depend on Zoom Level in OpenLayers" />
	<meta property="og:description" content="So, you want to render a route on your OpenLayers map. Everything will be nice and sweet until youâ€™ll have to render a huge route, in which case no matter what computer your clients have, most probably it will stall. To solve this you have two possibilities: you either reduce the number of lines you send from the server or you reduce the number of points rendered directly on the clientâ€™s browser." />
	<meta property="og:url" content="http://surdu.me/2010/12/20/make-linestring-resolution-depend-on-level-in-openlayers.html" />
	<meta property="og:site_name" content="Nicu Surdu" />

	<meta name="twitter:title" content="Make LineString Resolution Depend on Zoom Level in OpenLayers" />
	<meta name="twitter:description" content="So, you want to render a route on your OpenLayers map. Everything will be nice and sweet until youâ€™ll have to render a huge route, in which case no matter what computer your clients have, most probably it will stall. To solve this you have two possibilities: you either reduce the number of lines you send from the server or you reduce the number of points rendered directly on the clientâ€™s browser." />
	<meta name="twitter:creator" content="@surdume" />
	<meta name="twitter:site" content="@surdume" />
	<meta name="twitter:domain" content="surdu.me" />
	
	<meta property="og:image" content="http://surdu.me/assets/images/profile.jpg" />
	<meta property="og:image:secure_url" content="http://surdu.me/assets/images/profile.jpg" />
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:image" content="http://surdu.me/assets/images/profile.jpg" />
	
	

	<meta name="google-site-verification" content="qS6PD1v2cPj6gw4QeROZgOtRiolrbkSBHAJ7V9RCpFs" />
	<meta name="HandheldFriendly" content="True" />
	<meta name="MobileOptimized" content="320" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="theme-color" content="#000000" />

	<link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
	<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
	<link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
</head>
<body class="post-template">

	<header class="main-header post-head no-cover">
	<nav class="main-nav  clearfix">
		<a class="back-button icon-arrow-left" href="/">Home</a>
		<a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
	</nav>
</header>

<main class="content" role="main">

	<article class="post">

		<header class="post-header">
			<h1 class="post-title">Make LineString Resolution Depend on Zoom Level in OpenLayers</h1>
			<section class="post-meta">
				<time class="post-date" datetime="2010-12-20">20 Dec 2010</time>
				
	in
	
		<a class='post' href='/tag/web'>#web</a>
	


			</section>
		</header>

		<section class="post-content">
			<p>So, you want to render a route on your OpenLayers map. Everything will be nice and sweet until youâ€™ll have to render a huge route, in which case no matter what computer your clients have, most probably it will stall. To solve this you have two possibilities: you either reduce the number of lines you send from the server or you reduce the number of points rendered directly on the clientâ€™s browser.</p>

<p>Both solutions will raise a problem: if the user will zoom deep enough, they will see a discrepancy between the route and the road (the number of points in the route will not be equal with the number of point on the road). So, the road may do a turn where your route plotting will just cut the corner. To solve this, I found a very adaptive solution that will reduce the number of point in your route the further you zoom out.</p>

<p>The solution is to create a custom renderer. In the following example it is shown how to override the default behaviour for the SVG renderer, but you can implement it also for other renderer if required.</p>

<script src="https://gist.github.com/surdu/1e298cff07ed81c7c0c562956019b76b.js"></script>

<p>The way I determine by how much to reduce the number of points based on the zoom is simple: I just have an array of zoom factors. If the user zoom to level <code class="highlighter-rouge">x</code> it just looks which is the closest value to <code class="highlighter-rouge">x</code> defined in my array.</p>

<p>Ok, so after youâ€™ve defined your new renderer, itâ€™s time to use it on your map. The way to do this is to add it to your vector layer that you use to render your route like so:</p>

<script src="https://gist.github.com/surdu/ca21acb448fa75d5b61f27d71e3ac245.js"></script>

<p>You just have to add the name of your render class as a string. The default list of renderers where <code class="highlighter-rouge">['SVG', 'VML', 'Canvas']</code>. So you noticed how Iâ€™ve changed only the SVG with my renderer. That is because browsers like Internet Explorer does not support SVG. This way, if OpenLayers sees that it can not use our <code class="highlighter-rouge">Smart</code> renderer, it will proceed with the next one in the list until it finds one that it can use.</p>

<p>Of course, if the browser will use <code class="highlighter-rouge">VML</code> or <code class="highlighter-rouge">Canvas</code>, youâ€™ll have again this problem, so you may want to implement this solution also for the other renderers. I suspect itâ€™s just a matter of changing the class your renderer extends, but I didnâ€™t tried it yet.</p>

<p>Hope it helps ðŸ˜‰</p>

		</section>

		

		<footer class="post-footer">
			<!-- If we want to display author's name and bio -->
			
				<figure class="author-image">
					<a class="img"
						href="/about.html"
						aria-label="About Nicu Surdu"
						style="background-image: url(/assets/images/profile.jpg)">
					<span class="hidden">Nicu Surdu's Picture</span></a>
				</figure>
				<section class="author">
					<!-- Author Name -->
					<div class="post-footer-title">Nicu Surdu</div>
					<!-- Author Bio -->
					<p>
							Technical Lead at <a href="https://www.3pillarglobal.com/">3Pillar Global</a> <br />
							and co-founder of <a href="http://creativespace.ro/">Creative Space</a>, a cool makerspace in TimiÈ™oara, Romania.
					</p>
				</section>
			

			<!-- Share links section -->
			<section class="share">
	<div class="post-footer-title">Share this post</div>
	<a class="icon-twitter"
		href="http://twitter.com/share?text=Make LineString Resolution Depend on Zoom Level in OpenLayers&amp;url=http://surdu.me/2010/12/20/make-linestring-resolution-depend-on-level-in-openlayers.html"
		aria-label="Share on Twitter"
		onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
	</a>
	<a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://surdu.me/2010/12/20/make-linestring-resolution-depend-on-level-in-openlayers.html"
		aria-label="Share on Facebook"
		onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
	</a>
	<a class="icon-google-plus"
		href="https://plus.google.com/share?url=http://surdu.me/2010/12/20/make-linestring-resolution-depend-on-level-in-openlayers.html"
		aria-label="Share on Google+"
		onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
	</a>
</section>

		</footer>

		<!-- Disqus comments -->
		
				<section class="disqus">
 <h3>Comments</h3>
	<div id="disqus_thread"></div>
	<script>
		var disqus_config = function () {
			this.page.url = "http://surdu.me/2010/12/20/make-linestring-resolution-depend-on-level-in-openlayers.html";
			this.page.identifier = "/2010/12/20/make-linestring-resolution-depend-on-level-in-openlayers.html";
		};

		(function() {
			var d = document, s = d.createElement('script');
			s.src = 'https://surdu-me.disqus.com/embed.js';
			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
		})();
	</script>
</section>

		

	</article>

</main>

	<footer class="site-footer clearfix" aria-disabled="true">
		<section class="copyright">
			<b>Nicu Surdu</b> &copy; 2020
		</section>
		<section class="poweredby">
			<a href="http://github.com/rosario/kasper">Kasper theme</a>
		</section>
	</footer>

	<script type="text/javascript" src="/assets/js/jquery-3.4.1.min.js"></script>
	<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
	<script type="text/javascript" src="/assets/js/index.js"></script>
	<script type="text/javascript" src="/assets/js/gist-embed.js"></script>
	<script type="text/javascript" src="/assets/js/favicon.js"></script><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-19732240-4"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-19732240-4');
</script>
</body>
</html>
